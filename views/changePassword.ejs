<% include ./partials/header.ejs %>
  <div class="w-full min-h-screen bg-zinc-900 text-white py-5 flex flex-col items-center justify-center">
    <div id="formUpper" class="flex flex-col items-center gap-5 px-4 w-full md:max-w-md">
      <img class="w-1/2 md:w-64 mb-4" src="/images/logo.png" alt="">
      <form id="form" class="w-full" action="/changePassword" method="post">
        <input 
          id="currentPass" 
          class="px-3 mt-2 py-2 md:py-3 border-2 border-zinc-800 rounded-md block w-full bg-zinc-900 
          focus:outline-none focus:border-blue-500 transition-colors md:text-lg" 
          type="password" 
          placeholder="Current password" 
          name="currentPassword" 
          required
        >
        <input 
          id="newPass" 
          class="px-3 mt-2 py-2 md:py-3 border-2 border-zinc-800 rounded-md block w-full bg-zinc-900 
          focus:outline-none focus:border-blue-500 transition-colors md:text-lg" 
          type="password" 
          placeholder="New password" 
          name="newPassword" 
          required
        >
        <input 
          id="confirmNewpass" 
          class="px-3 mt-2 py-2 md:py-3 border-2 border-zinc-800 rounded-md block w-full bg-zinc-900 
          focus:outline-none focus:border-blue-500 transition-colors md:text-lg" 
          type="password" 
          placeholder="Confirm New password" 
          name="confirmPassword" 
          required
        >
        <button 
          id="submit" 
          class="w-full bg-blue-500 px-3 py-3 md:py-4 rounded-md mt-4 hover:bg-blue-600 
          transition-colors md:text-lg font-medium"
        >
          Change password
        </button>
      </form>
    </div>
  </div>

  <script>


    document.querySelector('#form').addEventListener('submit',(event)=>{
      if(document.querySelector('#newPass').value !== document.querySelector('#confirmNewpass').value){
        event.preventDefault();
        var span = document.createElement('span')
        span.classList.add('text-red-500', 'mt-2', 'text-center', 'md:text-lg')
        span.textContent = "New passwords don't match. Please try again"
        document.querySelector('#formUpper').appendChild(span)
        setTimeout(() => {
          span.remove()
        }, 1000);
        return;
      }
    })

  </script>

<% include ./partials/footer.ejs %>